<div class="student-detail">
  <h2 class="student-detail-name"><%= @student.name %> さんの学習スケジュール</h2>
  <p class="student-detail-goal">目標校：<%= @student.goal_school %></p>

  <div class="progress-summary">
    <p>全体進捗：<%= @student.progress_percentage %>%</p>
    <div class="progress-bar-container">
      <div class="progress-bar" style="width: <%= @student.progress_percentage %>%;"></div>
    </div>
  </div>

  <% @textbooks.each do |textbook| %>
    <div class="textbook-section">
      <h3 class="textbook-title"><%= textbook.title %></h3>

      <!-- スマホ対応：tableをスクロールできるように -->
      <div class="table-wrapper">
        <table class="unit-table">
          <thead>
            <tr>
              <th>単元</th>
              <th>進捗</th>
              <th>期間</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody>
            <% textbook.units.each do |unit| %>
              <tr>
                <td class="unit-title"><%= unit.title %></td>
                <td class="unit-progress">
                  <div class="unit-progress-bar">
                    <div class="fill" style="width: <%= unit.progress %>%;"></div>
                  </div>
                  <span class="progress-text"><%= unit.progress %>%</span>
                </td>
                <td class="unit-dates">
                  <%= unit.start_date %> ~ <%= unit.end_date %>
                </td>
                <td class="unit-actions">
                  <% if unit.progress < 100 %>
                    <button class="btn-complete">完了</button>
                  <% else %>
                    <span class="status-done">完了済み</span>
                  <% end %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  <% end %>
</div>