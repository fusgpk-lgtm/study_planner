<div class="home-view-header">
  <h2 class="home-view-title">生徒一覧</h2>
  <%= link_to new_student_path, class: "btn-primary" do %>
    <i data-lucide="user-plus" class="icon"></i> 生徒登録
  <% end %>
</div>

<!-- <div class="today-schedule-card">
  <h3 class="today-schedule-title">
    <i data-lucide="calendar-check" class="icon"></i>
    今日の指導予定 (<%= l(Date.today, format: "%-m月%-d日") %>)
  </h3>
  <p class="today-schedule-tasks">
    <% if @today_student.present? %>
      <%= @today_student.name %> さんの指導:
      <span class="highlight"><%= @today_student.next_lesson %></span>
    <% else %>
      今日は指導予定はありません。
    <% end %>
  </p>
</div> -->

<!-- 生徒一覧コンテナ -->
<div class="student-list-grid">
  <% @students.each do |student| %>
    <%= link_to student_path(student), class: "student-card" do %>
      <div class="student-card-header">
        <h3 class="student-card-name"><%= student.name %></h3>
        <span class="student-card-goal-badge"><%= student.goal_school.split("・").first %></span>
      </div>
      <p class="student-card-goal-full"><%= student.goal_school %></p>

      <div class="student-card-progress-container">
        <p class="student-card-progress-label">全体進捗率 (<%= student.progress_percentage %>%)</p>
        <div class="student-card-progress-bar-bg">
          <div class="progress-bar student-card-progress-bar" style="width: <%= student.progress_percentage %>%"></div>
        </div>
      </div>

      <div class="student-card-footer">
        <i data-lucide="calendar" class="icon"></i>
        次回予定:
        <span class="highlight">明日</span>
      </div>
    <% end %>
  <% end %>
</div>


        <!-- 2. 生徒詳細ビュー（カリキュラム・進捗管理） -->
        <section id="detailView" class="view-section hidden">
            <h2 id="studentNameHeader" class="detail-view-header"></h2>
            <p id="studentGoal" class="detail-view-goal"></p>

            <!-- 詳細タブ -->
            <div class="detail-tabs-container">
                <nav class="detail-tabs-nav" aria-label="Tabs">
                    <a href="#" class="tab-link tab-link-active" aria-current="page">カリキュラム</a>
                    <a href="#" onclick="alert('概要タブに移動します')" class="tab-link tab-link-inactive">概要・成績</a>
                    <a href="#" onclick="alert('授業履歴タブに移動します')" class="tab-link tab-link-inactive">授業履歴</a>
                </nav>
            </div>

            <!-- カリキュラムテーブル -->
            <div class="curriculum-table-container">
                <table class="curriculum-table">
                    <thead class="curriculum-table-header">
                        <tr>
                            <th class="curriculum-table-th col-width-1-4">教材 / 単元名</th>
                            <th class="curriculum-table-th col-width-3-4">年間スケジュール</th>
                        </tr>
                    </thead>
                    <tbody id="curriculumTableBody" class="curriculum-table-body">
                        <!-- カリキュラムの行がここにJSで挿入されます -->
                    </tbody>
                </table>
            </div>

            <div class="add-unit-button-container">
                <button onclick="alert('新しい単元を追加するモーダルを開きます')" class="btn-primary add-unit-button">
                    <i data-lucide="plus-circle" class="icon"></i>
                    単元を追加
                </button>
            </div>
        </section>

    </main>

    <!-- JavaScriptにデータを渡すためのスクリプト -->
    <script>
        // モックデータは不要になったため削除しました。
        // 詳細ビューの表示には、今後Railsから取得したデータを使用します。
    </script>
</body>
</html>
